{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { UserFilled, Lock } from \"@element-plus/icons\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"login\",\n  components: {\n    UserFilled,\n    Lock\n  },\n  data() {\n    return {\n      form: {},\n      rules: {\n        sno: [{\n          required: true,\n          message: '请输入学号',\n          trigger: 'blur'\n        }],\n        spassword: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    login() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          //此refs对应着表单中的ref='' 本条作用是 当验证rules合法后才会执行下面的request.post语句\n          request.post(\"/student/login\", this.form).then(res => {\n            if (res.code === '0') {\n              this.$message({\n                type: \"success\",\n                message: \"登陆成功\"\n              });\n              sessionStorage.setItem(\"student\", JSON.stringify(res.data)); //res.data返回来一整个表格数据\n              this.$router.push(\"/board\");\n            } else {\n              {\n                this.$message({\n                  type: \"error\",\n                  message: \"用户名或密码错误\"\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["UserFilled","Lock","request","name","components","data","form","rules","sno","required","message","trigger","spassword","methods","login","$refs","validate","valid","post","then","res","code","$message","type","sessionStorage","setItem","JSON","stringify","$router","push"],"sources":["E:\\Documents\\Code\\Java\\2023database-master\\vue3\\vue\\src\\views\\login.vue"],"sourcesContent":["<template>\n  <div style=\"width: 100%; height: 100vh; background-color: white; overflow: hidden\">\n    <div style=\"width: 400px; margin: 200px auto\">\n\n      <div style=\"color: dodgerblue; padding: 30px; font-size: 30px; text-align: center\">\n        奖学金管理系统\n      </div>\n<!--      //分隔用-->\n      <div style=\"margin: 20px\"/>\n      <el-form\n          ref=\"form\"\n          :model=\"form\"\n          :label-position=\"'top'\"\n          label-width=\"100px\"\n          style=\"max-width: 460px\"\n          :rules=\"rules\"\n      >\n        <el-form-item label=\"学号\"  prop=\"sno\">\n          <el-input v-model=\"form.sno\">\n            <template #prefix>\n              <el-icon>\n                <UserFilled/>\n              </el-icon>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"spassword\" >\n          <el-input v-model=\"form.spassword\" show-password>\n            <template #prefix>\n              <el-icon>\n                <Lock/>\n              </el-icon>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-button style=\"width: 100%\" type=\"primary\" @click=\"login\">登 入</el-button>\n      </el-form>\n\n      <div style=\"margin: 300px\"/>\n      <div style=\"text-align: center; color: aliceblue\">\n        <el-divider >DouyouknowMiemie</el-divider>\n        <el-text size=\"small\" tag=\"b\">Present</el-text>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {UserFilled, Lock} from \"@element-plus/icons\";\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"login\",\n  components: {\n    UserFilled, Lock,\n  },\n  data() {\n    return {\n      form: {},\n      rules :({\n        sno: [\n          { required: true, message: '请输入学号', trigger: 'blur' },\n        ],\n        spassword: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n        ],\n      }),\n    }\n  },\n  methods: {\n    login() {\n      this.$refs['form'].validate((valid) => {\n        if(valid){\n          //此refs对应着表单中的ref='' 本条作用是 当验证rules合法后才会执行下面的request.post语句\n          request.post(\"/student/login\", this.form).then(res => {\n            if (res.code === '0') {\n              this.$message({\n                type: \"success\",\n                message: \"登陆成功\"\n              })\n              sessionStorage.setItem(\"student\",JSON.stringify(res.data))  //res.data返回来一整个表格数据\n              this.$router.push(\"/board\")\n            } else {\n              {\n                this.$message({\n                  type: \"error\",\n                  message: \"用户名或密码错误\"\n                })\n              }\n            }\n          })\n        }\n      })\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";AA+CA,SAAQA,UAAU,EAAEC,IAAI,QAAO,qBAAqB;AACpD,OAAOC,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IACVJ,UAAU;IAAEC;EACd,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,CAAC,CAAC;MACRC,KAAI,EAAI;QACNC,GAAG,EAAE,CACH;UAAEC,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC,CACtD;QACDC,SAAS,EAAE,CACT;UAAEH,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC;MAEzD;IACF;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,KAAKA,CAAA,EAAG;MACN,IAAI,CAACC,KAAK,CAAC,MAAM,CAAC,CAACC,QAAQ,CAAEC,KAAK,IAAK;QACrC,IAAGA,KAAK,EAAC;UACP;UACAf,OAAO,CAACgB,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAACZ,IAAI,CAAC,CAACa,IAAI,CAACC,GAAE,IAAK;YACpD,IAAIA,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;cACpB,IAAI,CAACC,QAAQ,CAAC;gBACZC,IAAI,EAAE,SAAS;gBACfb,OAAO,EAAE;cACX,CAAC;cACDc,cAAc,CAACC,OAAO,CAAC,SAAS,EAACC,IAAI,CAACC,SAAS,CAACP,GAAG,CAACf,IAAI,CAAC,GAAG;cAC5D,IAAI,CAACuB,OAAO,CAACC,IAAI,CAAC,QAAQ;YAC5B,OAAO;cACL;gBACE,IAAI,CAACP,QAAQ,CAAC;kBACZC,IAAI,EAAE,OAAO;kBACbb,OAAO,EAAE;gBACX,CAAC;cACH;YACF;UACF,CAAC;QACH;MACF,CAAC;IAEH;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}