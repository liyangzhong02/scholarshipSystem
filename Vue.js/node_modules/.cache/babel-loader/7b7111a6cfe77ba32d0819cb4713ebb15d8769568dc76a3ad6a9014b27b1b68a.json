{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"margin\": \"auto\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"home\",\n  style: {\n    \"display\": \"flex\",\n    \"padding\": \"10px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"demo-pagination-block\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"demonstration\"\n}, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_input, {\n    modelValue: $data.search,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event),\n    placeholder: \"请输入需要搜索的学号\",\n    style: {\n      \"width\": \"10%\",\n      \"margin\": \"auto\"\n    },\n    clearable: \"\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_button, {\n    type: \"primary\",\n    style: {\n      \"margin\": \"auto\"\n    },\n    onClick: $options.load\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"搜索\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_table, {\n    data: $data.tableData.filter(v => v.sno !== '1' && v.deleted !== 1),\n    style: {\n      \"width\": \"100%\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"sno\",\n      label: \"学号\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"sname\",\n      label: \"姓名\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"stotal\",\n      label: \"综合成绩\",\n      sortable: \"\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"isprice\",\n      label: \"获得奖项\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"syear\",\n      label: \"年份\",\n      sortable: \"\"\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])]), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createVNode(_component_el_pagination, {\n    \"current-page\": $data.currentPage,\n    \"onUpdate:currentPage\": _cache[1] || (_cache[1] = $event => $data.currentPage = $event),\n    \"page-size\": $data.pageSize,\n    \"onUpdate:pageSize\": _cache[2] || (_cache[2] = $event => $data.pageSize = $event),\n    \"page-sizes\": $data.pageSize,\n    small: _ctx.small,\n    layout: \"total, sizes, prev, pager, next, jumper\",\n    total: $data.total,\n    onSizeChange: $options.handleSizeChange,\n    onCurrentChange: $options.handleCurrentChange\n  }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"page-sizes\", \"small\", \"total\", \"onSizeChange\", \"onCurrentChange\"])])]);\n}","map":{"version":3,"names":["style","class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_el_input","$data","search","$event","placeholder","clearable","_component_el_button","type","onClick","$options","load","_hoisted_2","_component_el_table","data","tableData","filter","v","sno","deleted","_component_el_table_column","prop","label","sortable","_hoisted_3","_hoisted_4","_component_el_pagination","currentPage","pageSize","small","_ctx","layout","total","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange"],"sources":["E:\\Documents\\Code\\Java\\2023database-master\\vue3\\vue\\src\\views\\Rank2.vue"],"sourcesContent":["<template>\n  <div>\n    <div style=\"margin: auto\">\n      <el-input v-model=\"search\" placeholder=\"请输入需要搜索的学号\" style=\"width: 10%; margin: auto\" clearable/>\n      <el-button type=\"primary\" style=\"margin: auto\" @click=\"load\">搜索</el-button>\n    </div>\n    <div class=\"home\" style=\"display: flex; padding: 10px\">\n      <el-table :data=\"tableData.filter((v) => v.sno !== '1' && v.deleted !== 1)\" style=\"width: 100%\">\n        <el-table-column prop=\"sno\"  label=\"学号\"/>\n        <el-table-column prop=\"sname\" label=\"姓名\"/>\n        <el-table-column prop=\"stotal\" label=\"综合成绩\" sortable/>\n        <el-table-column prop=\"isprice\" label=\"获得奖项\"/>\n        <el-table-column prop=\"syear\" label=\"年份\" sortable/>\n      </el-table>\n    </div>\n    <div class=\"demo-pagination-block\">\n      <div class=\"demonstration\"></div>\n      <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"pageSize\"\n          :small=\"small\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=total\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: 'rank',\n  components: {},\n  data() {\n    return {\n      dialogVisible: false,\n      form: {},\n      search: \"\",\n      tableData: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n    }\n  },\n  created(){ //開始時調用，鈎子函數\n    this.load()\n  },\n  methods: {\n\n    load() {\n      request.get(\"/student\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        console.log(res);\n        let filteredData = [];\n        for (let i = 0; i < res.data.records.length; i++) {\n          let grade = res.data.records[i].sgrade;\n          if (grade === \"研二\") {\n            filteredData.push(res.data.records[i]);\n          }\n        }\n        this.tableData = filteredData;\n        this.total = res.data.total;\n      });\n    },\n\n    handleSizeChange(){\n      this.load() //重载表格\n    },\n    handleCurrentChange(){\n      this.load() //重载表格\n    },\n  }\n}\n</script>\n"],"mappings":";;EAESA,KAAoB,EAApB;IAAA;EAAA;AAAoB;;EAIpBC,KAAK,EAAC,MAAM;EAACD,KAAoC,EAApC;IAAA;IAAA;EAAA;;;EASbC,KAAK,EAAC;AAAuB;gCAChCC,mBAAA,CAAiC;EAA5BD,KAAK,EAAC;AAAe;;;;;;;;uBAf9BE,mBAAA,CA2BM,cA1BJD,mBAAA,CAGM,OAHNE,UAGM,GAFJC,YAAA,CAAgGC,mBAAA;gBAA7EC,KAAA,CAAAC,MAAM;+DAAND,KAAA,CAAAC,MAAM,GAAAC,MAAA;IAAEC,WAAW,EAAC,YAAY;IAACV,KAAgC,EAAhC;MAAA;MAAA;IAAA,CAAgC;IAACW,SAAS,EAAT;2CACrFN,YAAA,CAA2EO,oBAAA;IAAhEC,IAAI,EAAC,SAAS;IAACb,KAAoB,EAApB;MAAA;IAAA,CAAoB;IAAEc,OAAK,EAAEC,QAAA,CAAAC;;sBAAM,MAAE,C,iBAAF,IAAE,E;;oCAEjEd,mBAAA,CAQM,OARNe,UAQM,GAPJZ,YAAA,CAMWa,mBAAA;IANAC,IAAI,EAAEZ,KAAA,CAAAa,SAAS,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,YAAYD,CAAC,CAACE,OAAO;IAASxB,KAAmB,EAAnB;MAAA;IAAA;;sBAC1E,MAAyC,CAAzCK,YAAA,CAAyCoB,0BAAA;MAAxBC,IAAI,EAAC,KAAK;MAAEC,KAAK,EAAC;QACnCtB,YAAA,CAA0CoB,0BAAA;MAAzBC,IAAI,EAAC,OAAO;MAACC,KAAK,EAAC;QACpCtB,YAAA,CAAsDoB,0BAAA;MAArCC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAC,MAAM;MAACC,QAAQ,EAAR;QAC5CvB,YAAA,CAA8CoB,0BAAA;MAA7BC,IAAI,EAAC,SAAS;MAACC,KAAK,EAAC;QACtCtB,YAAA,CAAmDoB,0BAAA;MAAlCC,IAAI,EAAC,OAAO;MAACC,KAAK,EAAC,IAAI;MAACC,QAAQ,EAAR;;;iCAG7C1B,mBAAA,CAYM,OAZN2B,UAYM,GAXJC,UAAiC,EACjCzB,YAAA,CASE0B,wBAAA;IARU,cAAY,EAAExB,KAAA,CAAAyB,WAAW;gEAAXzB,KAAA,CAAAyB,WAAW,GAAAvB,MAAA;IACzB,WAAS,EAAEF,KAAA,CAAA0B,QAAQ;6DAAR1B,KAAA,CAAA0B,QAAQ,GAAAxB,MAAA;IAC1B,YAAU,EAAEF,KAAA,CAAA0B,QAAQ;IACpBC,KAAK,EAAEC,IAAA,CAAAD,KAAK;IACbE,MAAM,EAAC,yCAAyC;IAC/CC,KAAK,EAAC9B,KAAA,CAAA8B,KAAK;IACXC,YAAW,EAAEvB,QAAA,CAAAwB,gBAAgB;IAC7BC,eAAc,EAAEzB,QAAA,CAAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}