{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"@/utils/request\";\nexport default {\n  name: 'rank',\n  components: {},\n  data() {\n    return {\n      dialogVisible: false,\n      form: {},\n      search: \"\",\n      tableData: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0\n    };\n  },\n  created() {\n    //開始時調用，鈎子函數\n    this.load();\n  },\n  methods: {\n    load() {\n      request.get(\"/student\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        console.log(res);\n        let filteredData = [];\n        for (let i = 0; i < res.data.records.length; i++) {\n          let grade = res.data.records[i].sgrade;\n          if (grade === \"研三\") {\n            filteredData.push(res.data.records[i]);\n          }\n        }\n        this.tableData = filteredData;\n        this.total = res.data.total;\n      });\n    },\n    handleSizeChange() {\n      this.load(); //重载表格\n    },\n\n    handleCurrentChange() {\n      this.load(); //重载表格\n    }\n  }\n};","map":{"version":3,"names":["request","name","components","data","dialogVisible","form","search","tableData","currentPage","pageSize","total","created","load","methods","get","params","pageNum","then","res","console","log","filteredData","i","records","length","grade","sgrade","push","handleSizeChange","handleCurrentChange"],"sources":["E:\\Documents\\Code\\Java\\2023database-master\\vue3\\vue\\src\\views\\Rank3.vue"],"sourcesContent":["<template>\n  <div>\n    <div style=\"margin: auto\">\n      <el-input v-model=\"search\" placeholder=\"请输入需要搜索的学号\" style=\"width: 10%; margin: auto\" clearable/>\n      <el-button type=\"primary\" style=\"margin: auto\" @click=\"load\">搜索</el-button>\n    </div>\n    <div class=\"home\" style=\"display: flex; padding: 10px\">\n      <el-table :data=\"tableData.filter((v) => v.sno !== '1' && v.deleted !== 1)\" style=\"width: 100%\">\n        <el-table-column prop=\"sno\"  label=\"学号\"/>\n        <el-table-column prop=\"sname\" label=\"姓名\"/>\n        <el-table-column prop=\"stotal\" label=\"综合成绩\" sortable/>\n        <el-table-column prop=\"isprice\" label=\"获得奖项\"/>\n        <el-table-column prop=\"syear\" label=\"年份\" sortable/>\n      </el-table>\n    </div>\n    <div class=\"demo-pagination-block\">\n      <div class=\"demonstration\"></div>\n      <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"pageSize\"\n          :small=\"small\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=total\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: 'rank',\n  components: {},\n  data() {\n    return {\n      dialogVisible: false,\n      form: {},\n      search: \"\",\n      tableData: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n    }\n  },\n  created(){ //開始時調用，鈎子函數\n    this.load()\n  },\n  methods: {\n    load() {\n      request.get(\"/student\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        console.log(res);\n        let filteredData = [];\n        for (let i = 0; i < res.data.records.length; i++) {\n          let grade = res.data.records[i].sgrade;\n          if (grade === \"研三\") {\n            filteredData.push(res.data.records[i]);\n          }\n        }\n        this.tableData = filteredData;\n        this.total = res.data.total;\n      });\n    },\n\n    handleSizeChange(){\n      this.load() //重载表格\n    },\n    handleCurrentChange(){\n      this.load() //重载表格\n    },\n  }\n}\n</script>\n"],"mappings":";AAkCA,OAAOA,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,CAAC,CAAC;EACdC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,KAAK;MACpBC,IAAI,EAAE,CAAC,CAAC;MACRC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAOA,CAAA,EAAE;IAAE;IACT,IAAI,CAACC,IAAI,CAAC;EACZ,CAAC;EACDC,OAAO,EAAE;IACPD,IAAIA,CAAA,EAAG;MACLZ,OAAO,CAACc,GAAG,CAAC,UAAU,EAAE;QACtBC,MAAM,EAAE;UACNC,OAAO,EAAE,IAAI,CAACR,WAAW;UACzBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBH,MAAM,EAAE,IAAI,CAACA;QACf;MACF,CAAC,CAAC,CAACW,IAAI,CAACC,GAAE,IAAK;QACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAIG,YAAW,GAAI,EAAE;QACrB,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIJ,GAAG,CAACf,IAAI,CAACoB,OAAO,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;UAChD,IAAIG,KAAI,GAAIP,GAAG,CAACf,IAAI,CAACoB,OAAO,CAACD,CAAC,CAAC,CAACI,MAAM;UACtC,IAAID,KAAI,KAAM,IAAI,EAAE;YAClBJ,YAAY,CAACM,IAAI,CAACT,GAAG,CAACf,IAAI,CAACoB,OAAO,CAACD,CAAC,CAAC,CAAC;UACxC;QACF;QACA,IAAI,CAACf,SAAQ,GAAIc,YAAY;QAC7B,IAAI,CAACX,KAAI,GAAIQ,GAAG,CAACf,IAAI,CAACO,KAAK;MAC7B,CAAC,CAAC;IACJ,CAAC;IAEDkB,gBAAgBA,CAAA,EAAE;MAChB,IAAI,CAAChB,IAAI,CAAC,GAAE;IACd,CAAC;;IACDiB,mBAAmBA,CAAA,EAAE;MACnB,IAAI,CAACjB,IAAI,CAAC,GAAE;IACd;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}